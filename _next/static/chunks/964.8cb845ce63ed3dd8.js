(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[340,964],{1051:(e,r,s)=>{"use strict";s.r(r),s.d(r,{LG_COL:()=>y,XS_COL:()=>f,default:()=>C,getUnlockedComics:()=>b,unlockComic:()=>v});var a=s(4848),i=s(6540),t=s(848),c=s(6871),l=s(1849),n=s(9753),o=s.n(n),d=s(6715),_=s(1106),m=s.n(_),h=s(3914),p=s(6188),x=s(5606);let u="1"===x.env.NEXT_PUBLIC_COMICS_UNLOCK_ALL,g="1"===x.env.NEXT_PUBLIC_ARCHIVE_COMICS_COUNT,j="1"===x.env.NEXT_PUBLIC_ARCHIVE_COMMENT_ICONS,f=12,y=8;function N(e){return`comic-${e.id}-unlocked`}function b(e){return e.map(e=>"1"===localStorage.getItem(N(e)))}function v(e){localStorage.setItem(N(e),"1")}class A extends i.Component{static propTypes;constructor(e){super(e)}renderCategories(e,r){return(0,a.jsx)("ul",{className:o().filters_list,children:r.map(r=>(0,a.jsx)("li",{className:[o().item,e===r.id?o().selected:""].join(" "),children:(0,a.jsxs)(m(),{href:{pathname:"",query:"all"===r.id?{}:{category:r.id}},children:[(0,a.jsx)("div",{className:o().icon,style:{backgroundImage:`url("${r.src}")`}}),(0,a.jsxs)("span",{className:o().title,children:[r.title,g?(0,a.jsx)("span",{children:`(${this.props.comics.filter(e=>e.category.includes(r.id)).length})`}):(0,a.jsx)(a.Fragment,{}),j&&this.props.comics.filter(e=>e.category.includes(r.id)).every(e=>""!==e.commentary)?(0,a.jsx)("span",{style:{marginLeft:"0.5em"},children:(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(a.Fragment,{}),children:(0,a.jsx)(h.g,{className:o().commentary_icon,icon:p.Bep})})}):(0,a.jsx)(a.Fragment,{})]})]})},r.id))})}renderComics(e){let r=b(e);return(0,a.jsx)("ul",{className:o().comics_list,children:e.map((e,s)=>(0,a.jsx)("li",{className:o().item,children:(0,a.jsxs)(m(),{className:o().link,href:e.href,children:[(0,a.jsx)("div",{className:[o().icon,o().locked].join(" "),style:{...u||r[s]?{backgroundImage:`url("${e.src}")`}:{},aspectRatio:`${e.width}/${e.height}`},children:u||r[s]?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(a.Fragment,{}),children:(0,a.jsx)(h.g,{className:o().lock_icon,icon:p.DW4})})}),(0,a.jsx)("span",{className:o().title_wrapper,children:(0,a.jsxs)("span",{className:o().title,children:[u||r[s]?e.title:"???",j&&""!==e.commentary?(0,a.jsx)("span",{style:{marginLeft:"0.5em"},children:(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(a.Fragment,{}),children:(0,a.jsx)(h.g,{className:o().commentary_icon,icon:p.Bep})})}):(0,a.jsx)(a.Fragment,{})]})})]})},e.id))})}renderPages(e,r,s){return(0,a.jsx)("ul",{className:o().pages_list,children:[...Array(e).keys()].map(e=>e+1).map(e=>(0,a.jsx)("li",{className:[o().page_item,r===e?o().selected:""].join(" "),children:(0,a.jsx)(m(),{href:{pathname:"",query:{page:e.toString(),...s}},children:e})},e.toString()))})}render(){let{className:e,router:r}=this.props,{query:s}=r,i=s.category;"string"!=typeof i&&(i="all");let n=Number(s.page);Number.isNaN(n)&&(n=1);let d=this.props.comics.filter(e=>"all"===i||e.category.includes(i)),_=Math.max(Math.ceil(d.length/15),1);d=d.slice((n-1)*15,15*n);let m="all"!==i?{category:i}:{};return(0,a.jsxs)(t.A,{className:[e||"",o().archive,"external_container"].join(" "),children:[(0,a.jsx)(c.A,{className:"justify-content-center",children:(0,a.jsxs)(l.A,{className:o().filters_col,xs:f,lg:y,children:[this.renderCategories(i,this.props.categories),this.renderCategories(i,this.props.games)]})}),(0,a.jsx)(c.A,{className:"justify-content-center",children:(0,a.jsx)(l.A,{xs:f,lg:y,children:this.renderComics(d)})}),(0,a.jsx)(c.A,{className:"justify-content-center",children:(0,a.jsx)(l.A,{className:o().pages_col,xs:f,lg:y,children:this.renderPages(_,n,m)})})]})}}A.propTypes={};let C=(0,d.withRouter)(A)},5964:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var a=s(4848),i=s(6540),t=s(1340);class c extends i.Component{static propTypes;constructor(e){super(e)}render(){return(0,a.jsx)(t.default,{comic:this.props.comic,first:this.props.first,previous:this.props.previous,next:this.props.next,last:this.props.last})}}c.propTypes={};let l=c},1340:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f});var a=s(4848),i=s(6540),t=s(848),c=s(6871),l=s(1849),n=s(3888),o=s.n(n),d=s(3914),_=s(6188),m=s(4267),h=s(1051),p=s(9965),x=s.n(p),u=s(1106),g=s.n(u);class j extends i.Component{static propTypes;constructor(e){super(e)}render(){let{className:e,comic:r,first:s,previous:n,next:p,last:u}=this.props,j=[{icon:_.z04,label:"Aller au premier comic",href:s.href,enabled:s.id!=r.id},{icon:_.TH3,label:"Aller au comic pr\xe9c\xe9dent",href:n?.href??"",enabled:s.id!=r.id},{icon:_.Qte,label:"Aller aux archives",href:"/archive",enabled:!0},{icon:_.xNJ,label:"Aller \xe0 un comic al\xe9atoire",href:"/random",enabled:!0},{icon:_.vFJ,label:"Aller au comic suivant",href:p?.href??"",enabled:u.id!=r.id},{icon:_.x5B,label:"Aller au dernier comic",href:u.href,enabled:u.id!=r.id}];return(0,h.unlockComic)(r),(0,a.jsx)(t.A,{className:[e||"",o().reader,"external_container"].join(" "),children:(0,a.jsx)(c.A,{className:"justify-content-center",children:(0,a.jsx)(l.A,{className:"d-flex flex-column justify-content-center align-items-center",xs:h.XS_COL,lg:h.LG_COL,children:(0,a.jsxs)("article",{className:o().reader_wrapper,style:{width:`${r.width*r.scale}px`},children:[(0,a.jsx)("header",{children:(0,a.jsx)("h1",{className:o().title,children:r.title})}),(0,a.jsx)("div",{className:o().image_wrapper,style:{width:`${r.width*r.scale}px`},children:(0,a.jsx)(x(),{className:o().image,src:r.src,alt:`image de ${r.title.toLowerCase()}`,width:`${r.width}`,height:`${r.height}`,style:{aspectRatio:`${r.width}/${r.height}`},priority:!0,unoptimized:!0})}),(0,a.jsx)("div",{className:o().toolbar,children:j.map((e,r)=>(0,a.jsx)(g(),{className:e.enabled?o().toolbar_enabled:o().toolbar_disabled,href:e.href,"aria-label":e.label,"aria-disabled":e.enabled?"false":"true",children:(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(a.Fragment,{}),children:(0,a.jsx)(d.g,{className:o().toolbar_icon,icon:e.icon})})},r.toString()))}),(0,a.jsxs)("section",{className:o().info,children:[(0,a.jsxs)("footer",{className:o().date,children:[(0,a.jsx)("div",{children:"Pokemon Anarchy"}),new Date(r.date).toLocaleString()]}),(0,a.jsxs)("div",{className:[o().commentary,""===r.commentary?o().no_commentary:""].join(" "),children:[(0,a.jsx)("div",{className:o().commentary_icon_wrapper,children:(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(a.Fragment,{}),children:(0,a.jsx)(d.g,{className:o().commentary_icon,icon:_.Bep})})}),(0,a.jsx)(m.o,{children:""!==r.commentary?r.commentary:"Aucun commentaire disponible"})]})]})]})})})})}}j.propTypes={};let f=j},9753:e=>{e.exports={archive:"Archive_archive__cbfaC",selected:"Archive_selected__G04vY",icon:"Archive_icon__9dnQO",item:"Archive_item__26pu_",filters_col:"Archive_filters_col__YqrT_",filters_list:"Archive_filters_list__7G4QR",title:"Archive_title__OSZlL",comics_list:"Archive_comics_list__2M8Xx",title_wrapper:"Archive_title_wrapper__LOt2f",locked:"Archive_locked__1LcGT",lock_icon:"Archive_lock_icon__pe1zg",pages_col:"Archive_pages_col__Xm2hR",pages_list:"Archive_pages_list__rWv1H"}},3888:e=>{e.exports={reader:"Reader_reader__EgSBz",reader_wrapper:"Reader_reader_wrapper__K_Aq_",image_wrapper:"Reader_image_wrapper__KlZez",title:"Reader_title__TvQk7",image:"Reader_image__Nseb0",toolbar:"Reader_toolbar__AXumq",toolbar_icon:"Reader_toolbar_icon__u1Ywl",toolbar_disabled:"Reader_toolbar_disabled__0htMS",info:"Reader_info__VfXOY",date:"Reader_date__PJmve",commentary:"Reader_commentary__l2xmF",no_commentary:"Reader_no_commentary__Yi6oP",commentary_icon_wrapper:"Reader_commentary_icon_wrapper__6M3Vf",commentary_icon:"Reader_commentary_icon__TT32_"}}}]);