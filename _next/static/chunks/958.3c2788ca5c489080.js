(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[958],{3958:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var t=r(4848),c=r(6540),i=r(848),l=r(6871),a=r(1849),n=r(4267),o=r(8732),_=r.n(o),p=r(1051);class h extends c.Component{static propTypes;constructor(e){super(e)}render(){let{className:e}=this.props;return(0,t.jsx)(i.A,{className:[e||"",_().about,"external_container"].join(" "),children:(0,t.jsx)(l.A,{className:"justify-content-center",children:(0,t.jsx)(a.A,{className:_().text_wrapper,xs:p.XS_COL,lg:p.LG_COL,children:(0,t.jsx)(n.o,{children:this.props.text})})})})}}h.propTypes={};let m=h},1051:(e,s,r)=>{"use strict";r.r(s),r.d(s,{LG_COL:()=>f,XS_COL:()=>N,default:()=>k,getUnlockedComics:()=>C,unlockComic:()=>A});var t=r(4848),c=r(6540),i=r(848),l=r(6871),a=r(1849),n=r(9753),o=r.n(n),_=r(6715),p=r(1106),h=r.n(p),m=r(3914),d=r(6188),x=r(5606);let g="1"===x.env.NEXT_PUBLIC_COMICS_UNLOCK_ALL,u="1"===x.env.NEXT_PUBLIC_ARCHIVE_COMICS_COUNT,j="1"===x.env.NEXT_PUBLIC_ARCHIVE_COMMENT_ICONS,N=12,f=8;function y(e){return`comic-${e.id}-unlocked`}function C(e){return e.map(e=>{let s=y(e);try{return"1"===localStorage.getItem(s)}catch(e){return console.error(e),!0}})}function A(e){try{localStorage.setItem(y(e),"1")}catch(e){console.error(e)}}class v extends c.Component{static propTypes;constructor(e){super(e)}renderCategories(e,s){return(0,t.jsx)("ul",{className:o().filters_list,children:s.map(s=>(0,t.jsx)("li",{className:[o().item,e===s.id?o().selected:""].join(" "),children:(0,t.jsxs)(h(),{href:{pathname:"",query:"all"===s.id?{}:{category:s.id}},children:[(0,t.jsx)("div",{className:o().icon,style:{backgroundImage:`url("${s.src}")`}}),(0,t.jsxs)("span",{className:o().title,children:[s.title,u?(0,t.jsx)("span",{children:`(${this.props.comics.filter(e=>e.category.includes(s.id)).length})`}):(0,t.jsx)(t.Fragment,{}),j&&this.props.comics.filter(e=>e.category.includes(s.id)).every(e=>""!==e.commentary)?(0,t.jsx)("span",{style:{marginLeft:"0.5em"},children:(0,t.jsx)(c.Suspense,{fallback:(0,t.jsx)(t.Fragment,{}),children:(0,t.jsx)(m.g,{className:o().commentary_icon,icon:d.Bep})})}):(0,t.jsx)(t.Fragment,{})]})]})},s.id))})}renderComics(e){let s=C(e);return(0,t.jsx)("ul",{className:o().comics_list,children:e.map((e,r)=>(0,t.jsx)("li",{className:o().item,children:(0,t.jsxs)(h(),{className:o().link,href:e.href,children:[(0,t.jsx)("div",{className:[o().icon,o().locked].join(" "),style:{...g||s[r]?{backgroundImage:`url("${e.src}")`}:{},aspectRatio:`${e.width}/${e.height}`},children:g||s[r]?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(c.Suspense,{fallback:(0,t.jsx)(t.Fragment,{}),children:(0,t.jsx)(m.g,{className:o().lock_icon,icon:d.DW4})})}),(0,t.jsx)("span",{className:o().title_wrapper,children:(0,t.jsxs)("span",{className:o().title,children:[g||s[r]?e.title:"???",j&&""!==e.commentary?(0,t.jsx)("span",{style:{marginLeft:"0.5em"},children:(0,t.jsx)(c.Suspense,{fallback:(0,t.jsx)(t.Fragment,{}),children:(0,t.jsx)(m.g,{className:o().commentary_icon,icon:d.Bep})})}):(0,t.jsx)(t.Fragment,{})]})})]})},e.id))})}renderPages(e,s,r){return(0,t.jsx)("ul",{className:o().pages_list,children:[...Array(e).keys()].map(e=>e+1).map(e=>(0,t.jsx)("li",{className:[o().page_item,s===e?o().selected:""].join(" "),children:(0,t.jsx)(h(),{href:{pathname:"",query:{page:e.toString(),...r}},children:e})},e.toString()))})}render(){let{className:e,router:s}=this.props,{query:r}=s,c=r.category;"string"!=typeof c&&(c="all");let n=Number(r.page);Number.isNaN(n)&&(n=1);let _=this.props.comics.filter(e=>"all"===c||e.category.includes(c)),p=Math.max(Math.ceil(_.length/15),1);_=_.slice((n-1)*15,15*n);let h="all"!==c?{category:c}:{};return(0,t.jsxs)(i.A,{className:[e||"",o().archive,"external_container"].join(" "),children:[(0,t.jsx)(l.A,{className:"justify-content-center",children:(0,t.jsxs)(a.A,{className:o().filters_col,xs:N,lg:f,children:[this.renderCategories(c,this.props.categories),this.renderCategories(c,this.props.games)]})}),(0,t.jsx)(l.A,{className:"justify-content-center",children:(0,t.jsx)(a.A,{xs:N,lg:f,children:this.renderComics(_)})}),(0,t.jsx)(l.A,{className:"justify-content-center",children:(0,t.jsx)(a.A,{className:o().pages_col,xs:N,lg:f,children:this.renderPages(p,n,h)})})]})}}v.propTypes={};let k=(0,_.withRouter)(v)},8732:e=>{e.exports={about:"About_about__gifCK",text_wrapper:"About_text_wrapper__ZYhgS"}},9753:e=>{e.exports={archive:"Archive_archive__cbfaC",selected:"Archive_selected__G04vY",icon:"Archive_icon__9dnQO",item:"Archive_item__26pu_",filters_col:"Archive_filters_col__YqrT_",filters_list:"Archive_filters_list__7G4QR",title:"Archive_title__OSZlL",comics_list:"Archive_comics_list__2M8Xx",title_wrapper:"Archive_title_wrapper__LOt2f",locked:"Archive_locked__1LcGT",lock_icon:"Archive_lock_icon__pe1zg",pages_col:"Archive_pages_col__Xm2hR",pages_list:"Archive_pages_list__rWv1H"}}}]);